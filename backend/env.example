# SCPPER-CN 环境配置文件示例
# 复制此文件为 .env 并根据实际环境修改配置

# ============================================================================
# CROM API 配置
# ============================================================================

# CROM GraphQL API 地址
CROM_API_URL=https://apiv1.crom.avn.sh/graphql

# 目标站点URL (SCP Foundation CN)
TARGET_SITE_URL=http://scp-wiki-cn.wikidot.com

# ============================================================================
# 数据库配置
# ============================================================================

# PostgreSQL 数据库连接 (生产环境推荐)
DATABASE_URL=postgresql://scpper_user:your_password@localhost:5432/scpper_cn

# SQLite 数据库连接 (开发环境)
# DATABASE_URL=file:./data/scpper.db

# ============================================================================
# 同步参数配置
# ============================================================================

# 最大请求频率 (requests/second, 建议 ≤ 2.0)
MAX_REQUESTS_PER_SECOND=1.8

# 批次大小 (每次请求的页面数量)
BATCH_SIZE=10

# 启用断点续传
ENABLE_RESUME=true

# 启用增量同步 (仅同步变更的页面)
ENABLE_INCREMENTAL=true

# ============================================================================
# 日志配置
# ============================================================================

# 日志级别 (error, warn, info, debug)
LOG_LEVEL=info

# 日志目录
LOG_DIR=./sync-logs

# 日志文件最大大小 (MB)
LOG_MAX_SIZE=100

# 保留日志文件数量
LOG_MAX_FILES=10

# ============================================================================
# 服务配置 (如果需要Web接口)
# ============================================================================

# 服务端口
PORT=3000

# 监听地址
HOST=0.0.0.0

# 运行环境 (development, production)
NODE_ENV=production

# ============================================================================
# 备份配置
# ============================================================================

# 备份目录
BACKUP_DIR=./data-backups

# 启用自动备份
AUTO_BACKUP=true

# 备份保留天数
BACKUP_RETENTION_DAYS=30

# ============================================================================
# 监控配置 (可选)
# ============================================================================

# 启用性能指标收集
ENABLE_METRICS=false

# 指标服务端口
METRICS_PORT=9090

# 健康检查端点
HEALTH_CHECK_ENDPOINT=/health

# ============================================================================
# 高级配置
# ============================================================================

# 内存限制 (MB, 0 表示无限制)
MEMORY_LIMIT=2048

# 超时时间 (秒)
REQUEST_TIMEOUT=30

# 重试次数
MAX_RETRIES=3

# 重试延迟 (毫秒)
RETRY_DELAY=1000

# ============================================================================
# 开发环境配置
# ============================================================================

# 启用调试模式
DEBUG=false

# 启用详细日志
VERBOSE_LOGGING=false

# 测试模式 (限制数据量)
TEST_MODE=false

# 测试数据限制 (测试模式下的最大页面数)
TEST_LIMIT=100